# HTTPWebServer
 A Linux server for HTTP requests

调试记录：
- 0511：coredump 
```
got 1 http line: GET / HTTP/1.1
got 1 http line: l
oop! unknow header l
got 1 http line: Connection: keep-alive
got 1 http line: Upgrade-Insecure-Requests: 1
oop! unknow header Upgrade-Insecure-Requests: 1
got 1 http line: User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36
oop! unknow header User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36
got 1 http line: Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
oop! unknow header Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
got 1 http line: Accept-Encoding: gzip, deflate
oop! unknow header Accept-Encoding: gzip, deflate
got 1 http line: Accept-Language: en,zh-CN;q=0.9,zh;q=0.8
oop! unknow header Accept-Language: en,zh-CN;q=0.9,zh;q=0.8
got 1 http line: 
Segmentation fault (core dumped)
```
```
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
Core was generated by `./main 0.0.0.0 12345'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  strlen () at ../sysdeps/x86_64/strlen.S:106
106     ../sysdeps/x86_64/strlen.S: No such file or directory.
[Current thread is 1 (Thread 0x7f8a70c7c700 (LWP 28528))]
```
```
Thread 2 "main" hit Breakpoint 1, http_conn::process_read (this=this@entry=0x7fffe504a5c8) at http/http_conn.cpp:296
296             printf( "got 1 http line: %s\n", text);
(gdb) n
297             
(gdb) n
got 1 http line: 
303                     if( ret == BAD_REQUEST){
(gdb) n
312                     }else if(ret == GET_REQUEST){
(gdb) n
313                         return do_request();//有可能只有请求头就结束了HEAD
(gdb) step
315                     break;
(gdb) n
334     http_conn::HTTP_CODE http_conn::do_request(){
(gdb) n
323                     break;
(gdb) n
334     http_conn::HTTP_CODE http_conn::do_request(){
(gdb) n
323                     break;
(gdb) n
http_conn::do_request (this=this@entry=0x7fffe504a5c8) at http/http_conn.cpp:337
337         //strncpy( m_real_file + len, m_url, FILENAME_LEN - len - 1);
(gdb) n
338         //找到m_url中/的位置
(gdb) n
337         //strncpy( m_real_file + len, m_url, FILENAME_LEN - len - 1);
(gdb) n
338         //找到m_url中/的位置
(gdb) n
337         //strncpy( m_real_file + len, m_url, FILENAME_LEN - len - 1);
(gdb) n
338         //找到m_url中/的位置
(gdb) n

Thread 2 "main" received signal SIGSEGV, Segmentation fault.
strlen () at ../sysdeps/x86_64/strlen.S:106
106     ../sysdeps/x86_64/strlen.S: No such file or directory.
(gdb) 
```
是因为成员变量和局部变量冲突，c库函数传入了未初始化的数组，触发了错误。
问题：发送是怎么触发的？

